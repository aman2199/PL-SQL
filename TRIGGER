create table customers
(
id int,name varchar(200),age int,address varchar(200),salary int);

 

 

INSERT INTO CUSTOMERS(ID,NAME,AGE,ADDRESS,SALARY) VALUES(1,'RAMESH',32,'AHMEDABAD',2000);
INSERT INTO CUSTOMERS(ID,NAME,AGE,ADDRESS,SALARY) VALUES(2,'KHILAN',25,'DELHI',1500);
INSERT INTO CUSTOMERS(ID,NAME,AGE,ADDRESS,SALARY) VALUES(3,'KAUSHIK',23,'KOTA',2000);
INSERT INTO CUSTOMERS(ID,NAME,AGE,ADDRESS,SALARY) VALUES(4,'CHAITALI',27,'MUMBAI',6500);
INSERT INTO CUSTOMERS(ID,NAME,AGE,ADDRESS,SALARY) VALUES(5,'HARDIK',32,'MP',4500);

 

CREATE OR REPLACE TRIGGER DISPLAY_SALARY
BEFORE DELETE OR INSERT OR UPDATE ON CUSTOMERS
FOR EACH ROW
WHEN(NEW.ID>0)
DECLARE
SAL_DIFF NUMBER;
BEGIN
SAL_DIFF:=:NEW.SALARY-:OLD.SALARY;
DBMS_OUTPUT.PUT_LINE('OLD SALARY'||:OLD.SALARY);
DBMS_OUTPUT.PUT_LINE('NEW SALARY'||:NEW.SALARY);
DBMS_OUTPUT.PUT_LINE('SALARY DIFFERENCE'||SAL_DIFF);
END;
/



DECLARE
TOTAL_ROWS NUMBER(2);
BEGIN
UPDATE CUSTOMERS SET SALARY=SALARY+5000;
IF SQL%NOTFOUND THEN
DBMS_OUTPUT.PUT_LINE('NO CUSTOMER UPDATED');
ELSIF SQL%FOUND THEN
TOTAL_ROWS:=SQL%ROWCOUNT;
DBMS_OUTPUT.PUT_LINE(TOTAL_ROWS||'CUSTOMERS GOT UPDATED');
END IF;
END;
/

 

 

 

 

 

 
